# Project 1 - The Senti-Mentals
## Stock v/s Sentiment Analysis

This project explores relationship between a sentiment on Twitter and the stock prices and if there is any correlation between the two.  It aims to answer the hypothesis, does the sentiment for a stock on Twitter during the day have any impact on the closing price of stock.

The project was analysed in May 2022 by :
-   Matthew Lewis
-   Declan Morandin
-   Jigar Lotia

The project uses various Notebooks to perform the analysis with high level process flow depicted as below:

![Flow Chart](Images/Flow%20Chart.jpeg)

Each of the notebook and the corresponding process that happens is described as below:

## Notebook 1 - Stock Retreival
This [notebook](StockDataRetrieval.ipynb) uses [Nasdaq Stock Tickers](https://www.nasdaq.com/market-activity/stocks/screener) as a starting list of valid stock tickers (8000+).

The notebook uses the [Alpaca API](https://app.alpaca.markets/) and reads the open and close price for all the tickers for a chosen week.

The notebook then analyses the top movers, top losers and neutrals and chooses a total of 30 stocks consisting of 10 stocks in each of this category.

These stocks with the corresponding prices and price movements are exported as a csv file, [StockPriceData.csv](Data/StockPriceData.csv).

## Notebook 2 - Tweets Retrieval and Sentiment Calculation

This [notebook](TweetRetrieval.ipynb) continues and carries forward from [Notebook 1](StockDataRetrieval.ipynb).  

The notebook reads the [StockPriceData.csv](Data/StockPriceData.csv) file generated by Notebook 1 and makes the list of unique stock tickers.

For the chosen period, these tickers are then searched through Twitter using the [Twitter API](https://developer.twitter.com/en/docs/twitter-api) for tweets containing the mention of these tickers.  100 tweets are read for each of the ticker for each of the day in the chosen period.

Each of these tweets are then analysed through an open-source Python Library [vaderSentiment](https://github.com/cjhutto/vaderSentiment) to analyse whether the tweet has a positive, negative or a netural sentiment.  A combined consolidated sentiment score is calculated for all the tweets related to a ticker.

The sentiment score for each of the ticker for each of the day is then exported as csv file, [stock_tweet_sentiment.csv](Data/stock_tweet_sentiment.csv).

## Notebook 3 - Sentiment Analysis Tool

This [notebook](CurrentSentimentTool.ipynb) combines the elements of Notebook 1 and 2 and provides a handy tool for the analyst who can input a stock ticker and can retrieve the price and sentiment related to the ticker and see the visual plots and compare and analyse if the stock prices are influenced by the sentiment on Twitter.

## Notebook 4 - Stock Sentiment Analysis

This [notebook](StockSentimentAnalysis.ipynb) reads the [StockPriceData.csv](Data/StockPriceData.csv) generated by [Notebook 1](StockDataRetrieval.ipynb) and also reads the [stock_tweet_sentiment.csv](Data/stock_tweet_sentiment.csv) generated by [Notebook 2](TweetRetrieval.ipynb).

This notebook then combines the data of both these CSV's, does the clean up of the data by removing null values where it cannot concat data between CSVs.  

Various visual plots are created using `hvPlot` Python library.


## Notebook 5 - Dashboard

This [notebook](DashBoard.ipynb) reads the [StockPriceData.csv](Data/StockPriceData.csv) generated by [Notebook 1](StockDataRetrieval.ipynb) and also reads the [stock_tweet_sentiment.csv](Data/stock_tweet_sentiment.csv) generated by [Notebook 2](TweetRetrieval.ipynb).

Similar to Notebook 4, this notebook also creates various visual plots are created using `hvPlot` Python library and presents it as a dashboard.

## Limitations We Faced

Due to limitations on sentiment data as well as time constraint, we believe the information presented was not conclusive enough to actually answer the hypothesis and determine whether there was a direct correlation or not to an upper percentile.

We believe if given more time, and or a more upgraded [Twitter API](https://developer.twitter.com/en/docs/twitter-api) with lesser restrictions, we believe the findings of our tool would of been a lot more conclusive in regards to the hypothesis first brought up by Dr Kahneman and tested by our group.


## Resources

The following resources were used 
-  [Alpaca API](https://app.alpaca.markets/) for accessing the stock prices for a chosen period
-  [Twitter API](https://developer.twitter.com/en/docs/twitter-api) for reading tweets and searching tweets based on a given stock
-  [Nasdaq symbols](https://www.nasdaq.com/market-activity/stocks/screener). This provided us the initial list of all possible Nasdaq symbol for our analysis.
- [Vader Sentiment Analysis](https://github.com/cjhutto/vaderSentiment) library  was used for sentiment analysis.  A special mention to this [blog](https://www.analyticsvidhya.com/blog/2021/06/vader-for-sentiment-analysis/) which helped us with the usage of this library.
 